maps = {
	"Test Map", -- 0
	"Funky's Store",
	"DK Arcade",
	"K. Rool Barrel - Lanky's Maze",
	"Japes - Mountain",
	"Cranky's Lab",
	"Japes - Minecart",
	"Jungle Japes",
	"Japes Boss - Army Dillo",
	"Jetpac",
	"Kremling Kosh! (very easy)", -- 10
	"Stealthy Snoop! (normal, no logo)",
	"Japes - Beehive",
	"Japes - Painting Room",
	"Aztec - Beetle Race",
	"Snide's H.Q.",
	"Aztec - Tiny Temple",
	"Hideout Helm",
	"Teetering Turtle Trouble! (very easy)",
	"Aztec - DK 5DTemple",
	"Aztec - Llama Temple", -- 20
	"Aztec - Diddy 5DTemple",
	"Aztec - Tiny 5DTemple",
	"Aztec - Lanky 5DTemple",
	"Aztec - Chunky 5DTemple",
	"Candy's Music Shop",
	"Frantic Factory",
	"Factory - Car Race",
	"Hideout Helm (Level Intros, Game Over)",
	"Factory - Power Shed",
	"Gloomy Galleon", -- 30
	"Galleon - Seasick Ship",
	"Batty Barrel Bandit! (easy)",
	"Japes - Underground",
	"DK Isles Overworld",
	"K. Rool Barrel - DK's Target Game",
	"Factory - Crusher Room",
	"Japes - BBlast",
	"Angry Aztec",
	"Galleon - Seal Race",
	"Nintendo Logo", -- 40
	"Aztec - BBlast",
	"Troff 'n' Scoff", -- 42
	"Galleon - 5DShip (Diddy, Lanky, Chunky)",
	"Galleon - Pearls Chest",
	"Galleon - Mermaid",
	"Galleon - 5DShip (DK, Tiny)",
	"Galleon - 2DShip (Lanky, Tiny)",
	"Fungi Forest",
	"Galleon - Lighthouse",
	"K. Rool Barrel - Tiny's Mushroom Game", -- 50
	"Galleon - Mechanical Fish",
	"Fungi - Anthill",
	"Battle Arena - Beaver Brawl!",
	"Galleon - BBlast",
	"Fungi - Minecart",
	"Fungi - Diddy Barn",
	"Fungi - Diddy Attic",
	"Fungi - Lanky Attic",
	"Fungi - DK Barn",
	"Fungi - Spider", -- 60
	"Fungi - Mill (Front)",
	"Fungi - Mill (Rear)",
	"Fungi - Light Room (Lanky)",
	"Fungi - Giant Mushroom",
	"Stealthy Snoop! (normal)",
	"Mad Maze Maul! (hard)",
	"Stash Snatch! (normal)",
	"Mad Maze Maul! (easy)",
	"Mad Maze Maul! (normal)", -- 69
	"Fungi - Dark Room (Lanky)", -- 70
	"Fungi - Face Puzzle (Chunky)",
	"Crystal Caves",
	"Battle Arena - Kritter Karnage!",
	"Stash Snatch! (easy)",
	"Stash Snatch! (hard)",
	"DK Rap",
	"Minecart Mayhem! (easy)", -- 77
	"Busy Barrel Barrage! (easy)",
	"Busy Barrel Barrage! (normal)",
	"Main Menu", -- 80
	"Title Screen (Not For Resale Version)",
	"Caves - Beetle Race",
	"Fungi Boss - Dogadon",
	"Caves - Tiny 5DIgloo",
	"Caves - Lanky 5DIgloo",
	"Caves - DK 5DIgloo",
	"Creepy Castle",
	"Castle - Ballroom",
	"Caves - Rotating Room",
	"Caves - Chunky 5DCabin", -- 90
	"Caves - DK 5DCabin",
	"Caves - Diddy 5DCabin (Lower)",
	"Caves - Tiny 5DCabin",
	"Caves - Lanky Cabin",
	"Caves - Chunky 5DIgloo",
	"Splish-Splash Salvage! (normal)",
	"K. Lumsy",
	"Caves - Tile Flipping",
	"Speedy Swing Sortie! (easy)",
	"Caves - Diddy 5DIgloo", -- 100
	"Krazy Kong Klamour! (easy)",
	"Big Bug Bash! (very easy)",
	"Searchlight Seek! (very easy)",
	"Beaver Bother! (easy)",
	"Castle - Tower",
	"Castle - Minecart",
	"Kong Battle - Battle Arena",
	"Castle - Crypt (Lanky, Tiny)",
	"Kong Battle - Arena 1",
	"Factory - BBlast", -- 110
	"Galleon Boss - Pufftoss",
	"Castle - Crypt (DK, Diddy, Chunky)",
	"Castle - Museum",
	"Castle - Library",
	"Kremling Kosh! (easy)",
	"Kremling Kosh! (normal)",
	"Kremling Kosh! (hard)",
	"Teetering Turtle Trouble! (easy)",
	"Teetering Turtle Trouble! (normal)",
	"Teetering Turtle Trouble! (hard)", -- 120
	"Batty Barrel Bandit! (easy)",
	"Batty Barrel Bandit! (normal)",
	"Batty Barrel Bandit! (hard)",
	"Mad Maze Maul! (insane)",
	"Stash Snatch! (insane)",
	"Stealthy Snoop! (very easy)",
	"Stealthy Snoop! (easy)",
	"Stealthy Snoop! (hard)",
	"Minecart Mayhem! (normal)",
	"Minecart Mayhem! (hard)", -- 130
	"Busy Barrel Barrage! (hard)",
	"Splish-Splash Salvage! (hard)",
	"Splish-Splash Salvage! (easy)",
	"Speedy Swing Sortie! (normal)",
	"Speedy Swing Sortie! (hard)",
	"Beaver Bother! (normal)",
	"Beaver Bother! (hard)",
	"Searchlight Seek! (easy)",
	"Searchlight Seek! (normal)",
	"Searchlight Seek! (hard)", -- 140
	"Krazy Kong Klamour! (normal)",
	"Krazy Kong Klamour! (hard)",
	"Krazy Kong Klamour! (insane)",
	"Peril Path Panic! (very easy)",
	"Peril Path Panic! (easy)",
	"Peril Path Panic! (normal)",
	"Peril Path Panic! (hard)",
	"Big Bug Bash! (easy)",
	"Big Bug Bash! (normal)",
	"Big Bug Bash! (hard)", -- 150
	"Castle - Tunnel",
	"Hideout Helm (Intro Story)",
	"DK Isles (DK Theatre)",
	"Factory Boss - Mad Jack",
	"Battle Arena - Arena Ambush!",
	"Battle Arena - More Kritter Karnage!",
	"Battle Arena - Forest Fracas!",
	"Battle Arena - Bish Bash Brawl!",
	"Battle Arena - Kamikaze Kremlings!",
	"Battle Arena - Plinth Panic!", -- 160
	"Battle Arena - Pinnacle Palaver!",
	"Battle Arena - Shockwave Showdown!",
	"Castle - Dungeon",
	"Castle - Tree",
	"K. Rool Barrel - Diddy's Kremling Game",
	"Castle - Shed",
	"Castle - Trash Can",
	"Castle - Greenhouse",
	"Jungle Japes Lobby",
	"Hideout Helm Lobby", -- 170
	"DK's House",
	"Rock (Intro Story)",
	"Angry Aztec Lobby",
	"Gloomy Galleon Lobby",
	"Frantic Factory Lobby",
	"Training Grounds",
	"Dive Barrel",
	"Fungi Forest Lobby",
	"Gloomy Galleon - Submarine",
	"Orange Barrel", -- 180
	"Barrel Barrel",
	"Vine Barrel",
	"Castle - Crypt",
	"Enguarde Arena",
	"Castle - Car Race",
	"Caves - BBlast",
	"Castle - BBlast",
	"Fungi - BBlast",
	"Fairy Island",
	"Kong Battle - Arena 2", -- 190
	"Rambi Arena",
	"Kong Battle - Arena 3",
	"Creepy Castle Lobby",
	"Crystal Caves Lobby",
	"DK Isles - Snide's Room",
	"Caves Boss - Army Dillo",
	"Aztec Boss - Dogadon",
	"Training Grounds (End Sequence)",
	"Castle Boss - King Kut Out",
	"Caves - Diddy 5DCabin (Upper)", -- 200
	"K. Rool Barrel - Diddy's Rocketbarrel Game",
	"K. Rool Barrel - Lanky's Shooting Game",
	"K. Rool Fight - DK Phase",
	"K. Rool Fight - Diddy Phase",
	"K. Rool Fight - Lanky Phase",
	"K. Rool Fight - Tiny Phase",
	"K. Rool Fight - Chunky Phase",
	"Bloopers Ending",
	"K. Rool Barrel - Chunky's Hidden Kremling Game",
	"K. Rool Barrel - Tiny's Pony Tail Twirl Game", -- 210
	"K. Rool Barrel - Chunky's Shooting Game",
	"K. Rool Barrel - DK's Rambi Game",
	"K. Lumsy Ending",
	"K. Rool's Shoe",
	"K. Rool's Arena", -- 215	
};

mapsWithMultipleExits = {
	7, --Jungle Japes
	26, --Frantic Factory
	30, --Gloomy Galleon
	34, --DK Isles Overworld
	38, --Angry Aztec
	43, --Gloomy Galleon - 5DShip (Diddy, Lanky, Chunky)
	46, --Gloomy Galleon - 5DShip (DK, Tiny)
	47, --Gloomy Galleon - 2DShip (Lanky, Tiny)"
	48, --Fungi Forest
	61, --Fungi Forest - Front Part of Mill
	62, --Fungi Forest - Rear Part of Mill
	64, --Fungi Forest - Giant Mushroom
	72, --Crystal Caves
	87, --Creepy Castle
	88, --Creepy Castle - Ballroom
	112, --Creepy Castle - Crypt (DK, Diddy, Chunky)
	113, --Creepy Castle - Museum
	114, --Creepy Castle - Library
	151, --Creepy Castle - Tunnel
	169, --Jungle Japes Lobby
	170, --Hideout Helm Lobby
	173, --Angry Aztec Lobby
	174, --Gloomy Galleon Lobby
	175, --Frantic Factory Lobby
	176, --Training Grounds
	178, --Fungi Forest Lobby
	183, --Creepy Castle - Crypt
	193, --Creepy Castle Lobby
	194, --Crystal Caves Lobby
};

exitTable = {
	[7] = {
		"From Japes Lobby (Intro)",
		"From Beehive",
		"From Mountain",
		"From Cranky",
		"From Funky",
		"From Painting Room",
		"From Snide's",
		"From BBlast",
		"From Underground",
		"From T&S (Diddy Cave)",
		"From T&S (Near Cannon)",
		"From ? (Other hill near SSSortie)",
		"From T&S (Near Pool Fairy)",
		"From ? (Near Pool Fairy)",
		"From Minecart",
		"From Japes Lobby",
		"From DK Rap (DKTV Demo)",
		"From Japes Lobby (Intro)"
	},
	[26] = {
		"From Factory Lobby/Arcade",
		"From Arcade Area (near Tiny BP)",
		"From Tiny BP Area (To Arcade Area)",
		"From Power Shed",
		"From R&D Area (To Storage Room)",
		"From Snide's",
		"From Funky's",
		"From Cranky's",
		"From Crusher Room",
		"From T&S (Block Tower)",
		"From T&S (Arcade)",
		"From T&S (R&D)",
		"From T&S (Production Room)",
		"From T&S (Storage Room)",
		"From ? (Near Bad Hit Detection Man)",
		"From BBlast",
		"From Car Race",
		"From Candy's",
		"From Factory Lobby"
	},
	[30] = {
		"From Galleon Lobby",
		"From Diddy 5DShip",
		"From Chunky 5DShip",
		"From Lanky 5DShip",
		"From Pearls Chest",
		"From Mermaid",
		"From Tiny 5DShip",
		"From DK 5DShip",
		"From Tiny 2DShip",
		"From Lanky 2DShip",
		"From Lighthouse",
		"From Seasick Ship",
		"From T&S (Cactus)",
		"From T&S (Near Cranky's)",
		"From T&S (2DShip)",
		"From T&S (Enguarde Door)",
		"From BBlast",
		"From Snide's",
		"From Candy's",
		"From Seal Race",
		"From T&S (Meme Hole)",
		"From Submarine",
		"From Cranky's",
		"From Funky's",
		"From Galleon Lobby"
	},
	[34] = {
		"From Training Grounds",
		"From K-Lumsy",
		"From Japes Lobby",
		"From Aztec Lobby",
		"From Factory Lobby",
		"From Galleon Lobby",
		"From Fungi Lobby",
		"From Helm Lobby",
		"From BFI",
		"From Snide's Room",
		"From Caves Lobby",
		"From Castle Lobby",
		"From K Rool",
		"From Training Grounds"
	},
	[38] = {
		"From Aztec Lobby",
		"From Tiny Temple",
		"From Llama Temple",
		"From Tiny 5DTemple",
		"From Chunky 5DTemple",
		"From DK 5DTemple",
		"From Diddy 5DTemple",
		"From Lanky 5DTemple",
		"From Candy's",
		"From Snide's",
		"From Cranky's",
		"From BBlast",
		"From T&S (Candy's)",
		"From T&S (W5)",
		"From T&S (5DTemple)",
		"From T&S (Cranky's)",
		"From T&S (Funky's)",
		"From Beetle Race",
		"From Funky's",
		"From Aztec Lobby"
	},
	[43] = {
		"From Galleon (Diddy Entrance)",
		"From Galleon (Chunky Entrance)",
		"From Galleon (Lanky Entrance)",
		"From Galleon (Diddy Entrance)"
	},
	[46] = {
		"From Galleon (DK Entrance)",
		"From Galleon (Tiny Entrance)",
		"From Galleon (DK Entrance)"
	},
	[47] = {
		"From Galleon (Tiny Entrance)",
		"From Galleon (Lanky Entrance)",
		"From Galleon (Tiny Entrance)"
	},
	[48] = {
		"From Fungi Lobby",
		"From Lanky Attic",
		"From Diddy Attic",
		"From Diddy Barn",
		"From DK Barn",
		"From Mill (Rear, PPunch Door)",
		"From Mill (Front)",
		"From Mill (Rear, Tiny Hole)",
		"From G. Mush (Lower)",
		"From G. Mush (Low Middle)",
		"From G. Mush (Middle)",
		"From G. Mush (High Middle)",
		"From G. Mush (High)",
		"From Face Puzzle (Chunky)",
		"From Light Room (Lanky)",
		"From Dark Room (Lanky)",
		"From Minecart",
		"From Cranky's",
		"From Funky's",
		"From Snide's",
		"From T&S (DK Barn)",
		"From T&S (Snide's)",
		"From T&S (Beanstalk)",
		"From Anthill",
		"From T&S (G. Mush)",
		"From T&S (Tree)",
		"From BBlast",
		"From Fungi Lobby (?)",
		"From Fungi Lobby"
	},
	[61] = {
		"From Fungi (W1 Door)",
		"From Mill (Rear)",
		"From Fungi (W1 Door)"
	},
	[62] = {
		"From Fungi (PPunch Door)",
		"From Spider Boss",
		"From Mill (Front)",
		"From Fungi (Tiny Hole)",
		"From Fungi (PPunch Door)"
	},
	[64] = {
		"From Fungi (Low)",
		"From Fungi (Middle)",
		"From Fungi (Low Middle)",
		"From Fungi (High Middle)",
		"From Fungi (High)",
		"From Fungi (Low)"
	},
	[72] = {
		"From Caves Lobby",
		"From Diddy 5DIgloo",
		"From DK 5DIgloo",
		"From Lanky 5DIgloo",
		"From Chunky 5DIgloo",
		"From Tiny 5DIgloo",
		"From Beetle Race",
		"From ? (Near Rotating Room)",
		"From ? (Near 1DC)",
		"From ? (Near 5DC)",
		"From ? (Near W3 Room)",
		"From ? (5DIgloo W3, Beta T&S)",
		"From Cranky's",
		"From Funky's",
		"From DK 5DCabin",
		"From Chunky 5DCabin",
		"From Tiny 5DCabin",
		"From Diddy 5DCabin (Lower)",
		"From Diddy 5DCabin (Upper)",
		"From Rotating Room",
		"From Lanky Cabin",
		"From Candy's",
		"From Snide's",
		"From T&S (Snide's)",
		"From T&S (Rotating Room)",
		"From T&S (1DC)",
		"From T&S (Giant Boulder)",
		"From ? (Behind W3 Room)",
		"From BBlast",
		"From ? (Giant Kosha Room)",
		"From Tile Flipping",
		"From DK Treehouse (Secret Exit)",
		"From Caves Lobby"
	},
	[87] = {
		"From Castle Lobby",
		"From Tree (Exit)",
		"From Tunnel (Front)",
		"From T&S (W2)",
		"From Crypt",
		"From Tunnel (Rear)",
		"From T&S (Rear)",
		"From Museum",
		"From Greenhouse (Front)",
		"From Shed",
		"From T&S (W4)",
		"From Ballroom",
		"From Library (Entrance)",
		"From Library (Exit)",
		"From Tower",
		"From Tree (Entrance)",
		"From Trash Can",
		"From BBlast",
		"From Cranky's",
		"From Snide's",
		"From Greenhouse (Rear)",
		"From Castle Lobby (Intro)",
		"From Castle Lobby"
	},
	[88] = {
		"From Castle",
		"From Museum (Monkeyport)",
		"From Castle"
	},
	[112] = {
		"From Crypt",
		"From Minecart",
		"From Crypt"
	},
	[113] = {
		"From Castle",
		"From Car Race",
		"From Ballroom (Monkeyport)",
		"From Castle"
	},
	[114] = {
		"From Castle (Entrance)",
		"From Castle (Exit)",
		"From Castle (Entrance)"
	},
	[151] = {
		"From Castle (Front)",
		"From Candy's",
		"From Castle (Rear)",
		"From T&S",
		"From Dungeon",
		"From Castle (Front)"
	},
	[169] = {
		"From DK Isles",
		"From Japes",
		"From DK Isles"
	},
	[170] = {
		"From DK Isles",
		"From Helm",
		"From DK Isles"
	},
	[173] = {
		"From DK Isles",
		"From Aztec",
		"From DK Isles"
	},
	[174] = {
		"From DK Isles",
		"From Galleon",
		"From DK Isles"
	},
	[175] = {
		"From DK Isles",
		"From Factory",
		"From DK Isles"
	},
	[176] = {
		"From DK Isles",
		"From DK's Treehouse",
		"From Cranky's",
		"From DK Isles"
	},
	[178] = {
		"From DK Isles",
		"From Fungi",
		"From DK Isles"
	},
	[183] = {
		"From Castle",
		"From Funky's",
		"From T&S",
		"From Crypt (DK/Diddy/Chunky)",
		"From Crypt (Lanky/Tiny)",
		"From Castle"
	},
	[193] = {
		"From DK Isles",
		"From Castle",
		"From DK Isles"
	},
	[194] = {
		"From DK Isles",
		"From Caves",
		"From DK Isles"
	},
};

function getMapName(map_id)
	return maps[map_id + 1];
end

function getExitName(map_index, exit_index)
	for i = 1, #mapsWithMultipleExits  do
        if map_index == mapsWithMultipleExits[i] then
			local exitName = exitTable[map_index][exit_index + 1];
			assert(exitName ~= nil, "Invalid or unknown exit! Map: "..maps[map_index + 1]..", Exit: " ..exit_index);
			return exitName;
		end
    end
    return exit_index;
end

function getMapValue(search_key)
	map_count = 0;
	map_in_search = {};
	for i = 1, #maps do
		string_start = string.find(maps[i],search_key,1);
		if string_start ~= nil then
			map_count = map_count + 1;
			map_in_search[map_count] = i;
		end
	end
	print("Maps matching search key: "..map_count);
	if map_count > 0 then
		for i = 1, map_count do
			map_value = map_in_search[i];
			print("Map found: "..maps[map_value].." ("..toHexString(map_value-1)..")");
		end
	end
end

function getFullName(lz_id)
	map_id = math.floor(lz_id / 256)
	exit_id = lz_id - (map_id * 256)
	return getMapName(map_id).." (Exit "..getExitName(map_id, exit_id)..")"
end
